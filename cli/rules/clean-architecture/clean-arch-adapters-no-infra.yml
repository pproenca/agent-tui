id: clean-arch-adapters-no-infra
language: rust
severity: error
message: "Adapters should not depend on app or infra. Use ports/usecases instead."
note: |
  Adapters translate between external interfaces and use cases.
  App wires the system; infra implements ports. Adapters should not import app/infra types.
files:
  - "crates/agent-tui/src/adapters/**/*.rs"
rule:
  kind: use_declaration
  any:
    - regex: "^use crate::infra(::|;)"
    - regex: "^use crate::app(::|;)"
