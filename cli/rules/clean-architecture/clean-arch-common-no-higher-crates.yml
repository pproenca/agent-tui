id: clean-arch-common-no-higher-crates
language: rust
severity: error
message: "Common module must not depend on app, adapters, infra, usecases, or domain."
note: |
  Common is the lowest-level shared module.
  It must not import from domain, usecases, adapters, app, or infra.
files:
  - "crates/agent-tui/src/common/**/*.rs"
rule:
  kind: use_declaration
  any:
    - regex: "^use crate::domain::"
    - regex: "^use crate::app::"
    - regex: "^use crate::adapters::"
    - regex: "^use crate::infra::"
    - regex: "^use crate::usecases::"
