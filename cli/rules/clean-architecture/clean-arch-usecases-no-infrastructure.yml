id: clean-arch-usecases-no-infrastructure
language: rust
severity: error
message: "Use case layer must not import from infrastructure or app modules."
note: |
  Clean Architecture: Use cases orchestrate domain logic via repository traits.
  They should not depend on:
  - infra/* (I/O, daemon management, IPC, terminal integration)
  - app/* (CLI/UI orchestration)
files:
  - "crates/agent-tui/src/usecases/**/*.rs"
rule:
  kind: use_declaration
  any:
    - regex: "^use crate::infra::"
    - regex: "^use crate::app::"
  not:
    regex: "^use crate::infra::daemon::test_support::"
