id: clean-arch-usecases-no-task-spawning
language: rust
severity: error
message: "Use cases should not spawn tasks or threads. Spawning belongs in infra."
note: |
  Use cases should be deterministic and orchestration-focused.
  Spawn tasks/threads in infra where runtime concerns are handled.
files:
  - "crates/agent-tui/src/usecases/**/*.rs"
rule:
  any:
    - pattern: tokio::spawn($$$ARGS)
    - pattern: tokio::task::spawn($$$ARGS)
    - pattern: tokio::task::spawn_blocking($$$ARGS)
    - pattern: tokio::task::spawn_local($$$ARGS)
    - pattern: std::thread::spawn($$$ARGS)
